<mat-card class="check-item transparent" *ngFor="let check of (checks$ | async)">
  <mat-card-title>
    <div> {{ check.name }}</div>
    <section class="check-date" [ngClass]="{
      'green': check.checkStatus == 'GREEN',
      'yellow': check.checkStatus == 'YELLOW',
      'red': check.checkStatus == 'RED'
    }">
      <div>
        <div class="status-time"> {{ check.completedAt | date: 'hh:mm:ss' }}</div>
        <div class="status-time"> {{ check.completedAt | date: 'MMM d, y'}}</div>
      </div>
      &nbsp;
      <mat-icon [ngSwitch]="check.checkStatus">
        <span *ngSwitchCase="'RED'">block</span>
        <span *ngSwitchCase="'YELLOW'">warning</span>
        <span *ngSwitchCase="'GREEN'">check_circle</span>
      </mat-icon>
    </section>
  </mat-card-title>
  <br>
  <!-- TODO: remove harcode -->

  <div *ngIf="isObject(check.description)">
    <mat-accordion>
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Details
          </mat-panel-title>
        </mat-expansion-panel-header>
        <table *ngIf="check.description as data">
          <tr class="node-name">
            <th>name</th>
            <th>pods</th>
          </tr>
          <tr *ngFor="let node of data.nodesResourceRequirements">
            <td class="node-name"> {{ node.nodeName }}</td>
            <td>

          <tr>
            <th class="pod-name">pod name</th>
            <th>containers</th>
          </tr>
          <tr *ngFor="let pod of node.podResourceRequirements">
            <td class="pod-name">{{ pod.podName }}</td>
            <td>
              <table>
                <tr>
                  <th class="container-name">ContainerName</th>
                  <th class="container-image">ContainerImage</th>
                  <th>Requests</th>
                  <th>Limits</th>
                </tr>
                <tr *ngFor="let container of pod.containersResourceRequirements">
                  <td class="container-name">{{ container.containerName }}</td>
                  <td class="container-image">{{ container.containerImage }}</td>
                  <td>
                    <table>
                      <tr>
                        <th>
                          ram
                        </th>
                        <th>
                          cpu
                        </th>
                      </tr>
                      <tr>
                        <td>
                          {{ container.requests.ram }}
                        </td>
                        <td>
                          {{ container.requests.cpu }}
                        </td>
                      </tr>
                    </table>
                  </td>
                  <td>
                    <table>
                      <tr>
                        <th>
                          ram
                        </th>
                        <th>
                          cpu
                        </th>
                      </tr>
                      <tr>
                        <td>
                          {{ container.limits.ram }}
                        </td>
                        <td>
                          {{ container.limits.cpu }}
                        </td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </table>
            </td>
          </tr>

        </table>
      </mat-expansion-panel>
    </mat-accordion>

  </div>


  <mat-tab-group>
    <mat-tab *ngFor="let check of check.possibleActions as action">
      <ng-template mat-tab-label>
        {{ check.name }}
      </ng-template>
      <div class="description">
        {{ check.description }}
      </div>
      <mat-chip-list class="action">
        <mat-chip class="red">RUN</mat-chip>
      </mat-chip-list>
    </mat-tab>

  </mat-tab-group>

</mat-card>

